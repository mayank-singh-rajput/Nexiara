{"ast":null,"code":"import axios from 'axios';\nimport { toast } from 'react-toastify';\nconst API = token => axios.create({\n  baseURL: 'http://localhost:5000',\n  headers: {\n    Authorization: token\n  }\n});\n_c = API;\nlet url = 'http://localhost:5000';\nexport const loginUser = async body => {\n  try {\n    return await axios.post(`${url}/user/login`, body);\n  } catch (error) {\n    console.log('error in loginuser api');\n  }\n};\nexport const googleAuth = async body => {\n  try {\n    return await axios.post(`${url}/user/google`, body);\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const registerUser = async body => {\n  try {\n    return await axios.post(`${url}/user/create`, body);\n  } catch (error) {\n    console.log('error in register api');\n  }\n};\nexport const sendOTP = async () => {\n  try {\n    const token = localStorage.getItem('userToken');\n    return await API(token).put(`${url}/user/send-otp`);\n  } catch (error) {\n    console.log('error in send otp');\n  }\n};\nexport const verifyOTP = async body => {\n  try {\n    const token = localStorage.getItem('userToken');\n    return await API(token).put(`${url}/user/verify-otp`, body);\n  } catch (error) {\n    console.log('error in verify otp');\n  }\n};\nexport const validUser = async () => {\n  try {\n    const token = localStorage.getItem('userToken');\n    const response = await axios.get(`${url}/auth/check-token`, {\n      headers: {\n        Authorization: token\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error in validUser API:', error);\n    throw error;\n  }\n};\nexport const updateUser = async body => {\n  try {\n    const token = localStorage.getItem('userToken');\n    const {\n      data\n    } = await API(token).put(`/user/update`, body);\n    return data;\n  } catch (error) {\n    console.log('error in update user api');\n    toast.error('Something Went Wrong.try Again!');\n  }\n};\nexport const checkValid = async () => {\n  const data = await validUser();\n  if (!(data !== null && data !== void 0 && data.user)) {\n    window.location.href = '/login';\n  } else {\n    window.location.href = '/login';\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"API\");","map":{"version":3,"names":["axios","toast","API","token","create","baseURL","headers","Authorization","url","loginUser","body","post","error","console","log","googleAuth","registerUser","sendOTP","localStorage","getItem","put","verifyOTP","validUser","response","get","data","updateUser","checkValid","user","window","location","href"],"sources":["D:/Intern/Nexiara/Nexiara/Frontend/src/apis/auth.js"],"sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst API = (token) =>\naxios.create({\n  baseURL: 'http://localhost:5000',\n  headers: { Authorization: token },\n});\n\nlet url = 'http://localhost:5000';\n\nexport const loginUser = async (body) => {\n  try {\n    return await axios.post(`${url}/user/login`, body);\n  } catch (error) {\n    console.log('error in loginuser api');\n  }\n};\n\nexport const googleAuth = async (body) => {\n  try {\n    return await axios.post(`${url}/user/google`, body);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const registerUser = async (body) => {\n  try {\n    return await axios.post(`${url}/user/create`, body);\n  } catch (error) {\n    console.log('error in register api');\n  }\n};\n\nexport const sendOTP = async () => {\n  try {\n    const token = localStorage.getItem('userToken');\n    return await API(token).put(`${url}/user/send-otp`);\n  } catch (error) {\n    console.log('error in send otp');\n  }\n};\n\nexport const verifyOTP = async (body) => {\n  try {\n    const token = localStorage.getItem('userToken');\n    return await API(token).put(`${url}/user/verify-otp`, body);\n  } catch (error) {\n    console.log('error in verify otp');\n  }\n};\n\nexport const validUser = async () => {\n  try {\n    const token = localStorage.getItem('userToken');\n\n    const response = await axios.get(`${url}/auth/check-token`, {\n      headers: { Authorization: token },\n    });\n\n    return response.data;\n  } catch (error) {\n    console.error('Error in validUser API:', error);\n    throw error;\n  }\n};\n\nexport const updateUser = async (body) => {\n  try {\n    const token = localStorage.getItem('userToken');\n\n    const { data } = await API(token).put(`/user/update`, body);\n    return data;\n  } catch (error) {\n    console.log('error in update user api');\n    toast.error('Something Went Wrong.try Again!');\n  }\n};\n\nexport const checkValid = async () => {\n  const data = await validUser();\n  if (!data?.user) {\n    window.location.href = '/login';\n  } else {\n    window.location.href = '/login';\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}